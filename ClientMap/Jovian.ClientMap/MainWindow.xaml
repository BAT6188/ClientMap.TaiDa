<Window x:Class="Jovian.ClientMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:esri="http://schemas.esri.com/arcgis/client/2009"
        mc:Ignorable="d" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Title="大屏指挥中心-客户端" Height="768" Width="1366" WindowState="Maximized" WindowStyle="SingleBorderWindow" Closed="Window_Closed">
    <Window.Resources>
        <DataTemplate x:Key="DT1">
            <StackPanel>
                <TextBlock Text="{Binding [MC]}" Foreground="White" FontSize="36"></TextBlock>
                <TextBlock Text="{Binding [Age]}" Foreground="White" FontSize="36"></TextBlock>
                <TextBlock Text="{Binding [Time]}" Foreground="White" FontSize="36"></TextBlock>
                <TextBlock Text="{Binding [STATENAME]}" Foreground="White" FontSize="36"></TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="DTPoliceCar">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [TITLE],StringFormat='车牌号：{0}'}" Foreground="White" FontSize="24"  Margin="10,5,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="负责人：李警官" Foreground="White" FontSize="24" Margin="10,5,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [HH],StringFormat='车载视频：{0}'}" Foreground="White" FontSize="24" Margin="10,5,0,0"></TextBlock>
                <WrapPanel Grid.Row="3" Margin="10,5,0,0">
                    <TextBlock Text="主控车：" Foreground="White" FontSize="24" Width="100" ></TextBlock>
                    <Button x:Name="btnMainCar" Tag="CarVideoOff" Width="60" Height="25" Style="{StaticResource btnOff}" Click="btnMainCar_Click"></Button>
                </WrapPanel>
            </Grid>
        </DataTemplate>
        
        <DataTemplate x:Key="DTCamera">
            <StackPanel>
                <Grid Height="400" Width="400" VerticalAlignment="Top">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"></RowDefinition>
                        <RowDefinition Height="50"></RowDefinition>
                        <RowDefinition Height="50"></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="100"></ColumnDefinition>                        
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{Binding [CameraName],StringFormat='位置：{0}'}" Foreground="White" FontSize="20" Grid.Row="0" Grid.Column="0"></TextBlock>
                    <TextBlock Text="{Binding [DB33],StringFormat='编号：{0}'}" Foreground="White" FontSize="20" Grid.Row="1" Grid.Column="0"></TextBlock>
                    <Image Source="images\camera.png" Grid.Column="1" Grid.RowSpan="2"></Image>
                    <WrapPanel Grid.Row="2" Grid.ColumnSpan="2">
                        <TextBlock Text="{Binding [Company],StringFormat='单位：{0}'}" Foreground="White" FontSize="20"></TextBlock>
                    <!--<TextBlock Text="大屏播放开关："  Foreground="White" FontSize="20" ></TextBlock>
                    <Button Tag="{Binding [DB33]}" Style="{StaticResource btnOff}" Content="BigMapOff" Width="70" Height="25"></Button>-->
                    </WrapPanel>
                </Grid>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="DTNetBar">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [NetBarName],StringFormat='网吧名：{0}'}" Foreground="White" FontSize="24"  Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Man],StringFormat='负责人：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Tel],StringFormat='电话   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>
        
        <DataTemplate x:Key="DTCompany">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [CompanyName],StringFormat='公司名：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Man],StringFormat='负责人：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Tel],StringFormat='电话   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="DTGasoline">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [GasolineName],StringFormat='加油站：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Man],StringFormat='负责人：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Tel],StringFormat='电话   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="DTBank">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [BankName],StringFormat='银行   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Man],StringFormat='负责人：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Tel],StringFormat='电话   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="DTHospital">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [HospitalName],StringFormat='医院   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Man],StringFormat='负责人：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Tel],StringFormat='电话   ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="DTCase">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding [CaseNum],StringFormat='接警单  ：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="1" Text="{Binding [Category],StringFormat='报警类别：{0}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
                <TextBlock Grid.Row="2" Text="{Binding [Time],StringFormat='报警时间：{0:yyyy-MM-dd hh:mm}'}" Foreground="White" FontSize="24" Margin="10,15,0,0"></TextBlock>
            </Grid>
        </DataTemplate>
        <Style x:Key="btnVector" TargetType="{x:Type Button}">
            <!--矢量地图显示用-->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border BorderBrush="White" BorderThickness="1" CornerRadius="5,5,5,5">
                            <Border.Background>
                                <ImageBrush ImageSource="images\YX.jpg"></ImageBrush>
                            </Border.Background>
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="5" ShadowDepth="2"></DropShadowEffect>
                            </Border.Effect>
                            <Grid>
                                <TextBlock Text="卫星" Width="{TemplateBinding Width}" FontWeight="Bold" Foreground="AliceBlue" FontSize="20" Margin="0,35" TextAlignment="Center">
                                    <TextBlock.Effect>
                                        <DropShadowEffect ShadowDepth="5" BlurRadius="3"></DropShadowEffect>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnImage" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border BorderBrush="White" BorderThickness="1" CornerRadius="5,5,5,5">
                            <Border.Background>
                                <ImageBrush ImageSource="images\SL.jpg"></ImageBrush>
                            </Border.Background>
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="5" ShadowDepth="2"></DropShadowEffect>
                            </Border.Effect>
                            <Grid>
                                <TextBlock Text="地图" Width="{TemplateBinding Width}" FontWeight="Bold" Foreground="AliceBlue" FontSize="20" Margin="0,35" TextAlignment="Center">
                                    <TextBlock.Effect>
                                        <DropShadowEffect ShadowDepth="5" BlurRadius="3"></DropShadowEffect>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnNotConnected" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border  BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border  Margin="10">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\LockNotConnected.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnConnected" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border  BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border  Margin="10">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\LockConnected.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnBackToOrigin" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\origin.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnCase" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\case.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnPoliceCar" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\policecar.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnLayers" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\layers.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnOpenedVideos" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\camera.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnTraffic" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\traffic.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnTrafficOn" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\traffic2.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="btnCircle" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Circle.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnClear" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Clear.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnEllipse" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Ellipse.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnFreehandLine" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="9">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\FreehandLine.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnPolygon" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Polygon.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnPolyline" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Polyline.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnRectangle" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\Rectangle.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="btnLength" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border.Background>
                                <ImageBrush ImageSource="images\toolsbtn\length.png"></ImageBrush>
                            </Border.Background>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnArea" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="3">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\area.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnZoomUp" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\zoomup.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnZoomDown" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\zoomdown.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnCut" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="1" BorderBrush="#2B454E" Margin="0">
                            <Border Margin="5">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\toolsbtn\cut.png"></ImageBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnLeft" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="0" BorderBrush="#2B454E" Margin="0">
                            <Border.Background>
                                <ImageBrush ImageSource="images\toolsbtn\btnleft.png"></ImageBrush>
                            </Border.Background>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="btnRight" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="0" BorderBrush="#2B454E" Margin="0">
                            <Border.Background>
                                <ImageBrush ImageSource="images\toolsbtn\btnright.png"></ImageBrush>
                            </Border.Background>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CloseButton" TargetType="{x:Type Button}">
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Canvas>
                            <Rectangle Width="15" Height="15" Stroke="Black" RadiusX="3" RadiusY="3">
                                <Rectangle.Fill>
                                    <SolidColorBrush x:Name="myAnimatedBrush" Color="Red" />
                                </Rectangle.Fill>
                            </Rectangle>
                            <Line X1="3" Y1="3" X2="12" Y2="12" Stroke="White" StrokeThickness="2"></Line>
                            <Line X1="12" Y1="3" X2="3" Y2="12" Stroke="White" StrokeThickness="2"></Line>
                        </Canvas>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="mainInfoWindowStyle" TargetType="{x:Type esri:InfoWindow}">
            <Setter Property="Background" Value="Red"/>
            <Setter Property="BorderBrush" Value="Blue"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0,30,0,0"></Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type esri:InfoWindow}">
                        <Grid x:Name="Root" RenderTransformOrigin="{Binding RenderTransformOrigin, RelativeSource={RelativeSource TemplatedParent}}" SnapsToDevicePixels="True">
                            <Grid.RenderTransform>
                                <ScaleTransform ScaleY="0" ScaleX="0"/>
                            </Grid.RenderTransform>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Show">
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" Storyboard.TargetName="Root">
                                                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                                    <EasingDoubleKeyFrame.EasingFunction>
                                                        <BackEase Amplitude="0.5" EasingMode="EaseOut"/>
                                                    </EasingDoubleKeyFrame.EasingFunction>
                                                </EasingDoubleKeyFrame>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" Storyboard.TargetName="Root">
                                                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                                    <EasingDoubleKeyFrame.EasingFunction>
                                                        <BackEase Amplitude="0.5" EasingMode="EaseOut"/>
                                                    </EasingDoubleKeyFrame.EasingFunction>
                                                </EasingDoubleKeyFrame>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Hide">
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" Storyboard.TargetName="Root">
                                                <EasingDoubleKeyFrame KeyTime="0:0:0.25" Value="0">
                                                    <EasingDoubleKeyFrame.EasingFunction>
                                                        <CircleEase EasingMode="EaseIn"/>
                                                    </EasingDoubleKeyFrame.EasingFunction>
                                                </EasingDoubleKeyFrame>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" Storyboard.TargetName="Root">
                                                <EasingDoubleKeyFrame KeyTime="0:0:0.25" Value="0">
                                                    <EasingDoubleKeyFrame.EasingFunction>
                                                        <CircleEase EasingMode="EaseIn"/>
                                                    </EasingDoubleKeyFrame.EasingFunction>
                                                </EasingDoubleKeyFrame>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="200"></RowDefinition>
                                <RowDefinition Height="200"></RowDefinition>
                            </Grid.RowDefinitions>
                            
                            <Border Grid.Row="0" BorderBrush="Red" BorderThickness="0" CornerRadius="20,20,20,20">
                                <Border.Background>
                                    <ImageBrush ImageSource="images\baseUC\32.png"  Viewport="0,0 1,1" ViewportUnits="Absolute" TileMode="FlipXY"></ImageBrush>
                                </Border.Background>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="15"></RowDefinition>
                                        <RowDefinition></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Button Grid.Row="0" x:Name="btnCloseInfoWindow" Style="{StaticResource CloseButton}" HorizontalAlignment="Right" Margin="0,5,30,0" Click="btnCloseInfoWindow_Click" Cursor="Hand"></Button>
                                    <ContentPresenter Grid.Row="1" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Margin="{TemplateBinding Padding}"/>
                                </Grid>
                                
                            </Border>
                            <Image Grid.Row="1" Source="images\baseUC\cor.png" VerticalAlignment="Top" HorizontalAlignment="Left"></Image>
                            <Path x:Name="BorderPath"/>
                            <!--Fill="{TemplateBinding Background}" Stroke="{TemplateBinding BorderBrush}" StrokeThickness="{TemplateBinding StrokeThickness}" StrokeLineJoin="Round"-->
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="NavigationStyle" TargetType="{x:Type esri:Navigation}">
            <Setter Property="Background" Value="#FF949494"/>
            <Setter Property="Foreground" Value="#FF333333"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type esri:Navigation}">
                        <Grid x:Name="LayoutRoot" Background="Transparent" HorizontalAlignment="Left" MinWidth="148" MinHeight="125" RenderTransformOrigin="{TemplateBinding RenderTransformOrigin}" VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RenderTransform>
                                <ScaleTransform CenterY="0" CenterX="0"/>
                            </Grid.RenderTransform>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0:0:0.1" To="0.75" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" Storyboard.TargetName="LayoutRoot"/>
                                            <DoubleAnimation Duration="0:0:0.1" To="0.75" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" Storyboard.TargetName="LayoutRoot"/>
                                            <DoubleAnimation BeginTime="0" Duration="0:0:0.1" To="0.25" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="LayoutRoot"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation BeginTime="0" Duration="0:0:0.1" To="1" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" Storyboard.TargetName="LayoutRoot"/>
                                            <DoubleAnimation BeginTime="0" Duration="0:0:0.1" To="1" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" Storyboard.TargetName="LayoutRoot"/>
                                            <DoubleAnimation BeginTime="0" Duration="0:0:0.1" To="0.75" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="LayoutRoot"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Grid x:Name="ZoomContainer" Margin="0" VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Rectangle Grid.ColumnSpan="4" Fill="{TemplateBinding Background}" Margin="0" RadiusY="3" RadiusX="3" Grid.RowSpan="4" Stroke="{TemplateBinding BorderBrush}" StrokeThickness="1"/>
                                <Button x:Name="ZoomInButton" Content="+" Foreground="{TemplateBinding Foreground}" FontSize="8" Height="16" Margin="2,2,2,0" Grid.Row="0" ToolTip="Zoom In" Width="14"/>
                                <Rectangle Fill="White" HorizontalAlignment="Center" Height="3" Grid.Row="1" VerticalAlignment="Center" Width="2"/>
                                <!--<Slider x:Name="ZoomSlider" Cursor="Hand" Height="89" LargeChange="0.0000019073515436137569" Maximum="0.0009765639903302435328" Minimum="0.0000019073515436137569" Orientation="Vertical" Grid.Row="1" SmallChange="1" ToolTip="Drag to zoom in or out" Value="0.0009765639903302435328" VerticalAlignment="Top"/>-->
                                <Slider x:Name="ZoomSlider" Cursor="Hand" Height="89" LargeChange="1" Maximum="15" Minimum="0" Orientation="Vertical" Grid.Row="1" SmallChange="1" ToolTip="Drag to zoom in or out" Value="0" VerticalAlignment="Top"/>
                                <Button x:Name="ZoomOutButton" Content="-" Foreground="{TemplateBinding Foreground}" FontSize="8" Height="16" Margin="2,0,2,2" Grid.Row="2" ToolTip="Zoom Out" Width="14"/>
                            </Grid>
                            <Grid x:Name="Navigator" Grid.Column="1" Height="125" Margin="3,0,0,0" RenderTransformOrigin="0.5,0.5" Width="125">
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="0"/>
                                </Grid.RenderTransform>
                                <Path x:Name="RotateRing" Cursor="Hand" Data="M97.050499,68.386246L106.5,68.386246 106.1507,69.74157C101.85528,83.519669 92.276138,94.975006 79.777817,101.74873 76.653244,103.44215 73.34623,104.84298 69.893723,105.91433L69.5,106.01534 69.5,96.482994 71.447334,95.771919C74.205498,94.608025 76.826485,93.184006 79.279457,91.530655 84.185387,88.223969 88.419128,84.000031 91.733521,79.105515 93.390709,76.658241 94.818054,74.043327 95.98465,71.29158z M0.5,68.386246L9.9494915,68.386246 11.015333,71.29158C12.181933,74.043343 13.609276,76.658241 15.266468,79.105515 18.580849,84.000053 22.814623,88.223969 27.720554,91.530655 30.173519,93.18399 32.794529,94.608032 35.552677,95.771912L38.5,96.848145 38.5,106.27186 37.106312,105.91433C23.296202,101.62891 11.814036,92.07193 5.0245867,79.602684 3.3272135,76.485374 1.923135,73.186035 0.8492955,69.741547z M69.5,0.75652671L69.893661,0.85751152C83.703682,5.14291 95.185875,14.699864 101.97538,27.169144 103.67275,30.286457 105.07684,33.585789 106.15069,37.030285L106.5,38.38562 97.050507,38.38562 95.984657,35.480282C94.818062,32.728535 93.390701,30.113619 91.733528,27.666359 88.419121,22.771801 84.185356,18.547873 79.279427,15.241194 76.826447,13.58785 74.205452,12.163824 71.447311,10.999947L69.5,10.288876z M38.5,0.5L38.5,9.9237194 35.552654,10.999952C32.794514,12.163842 30.173498,13.587873 27.720541,15.241213 22.81461,18.547897 18.580839,22.771828 15.266464,27.666361 13.609274,30.113626 12.181928,32.728542 11.015331,35.480286L9.9494915,38.38562 0.5,38.38562 0.84929955,37.030308C5.1446834,23.252361 14.723901,11.796858 27.222183,5.02314 30.346762,3.3297043 33.653778,1.928881 37.106293,0.85752773z" Fill="{TemplateBinding Background}" Margin="8" Stretch="Fill" Stroke="{TemplateBinding BorderBrush}" ToolTip="Drag to rotate"/>
                                <Grid x:Name="PanLeft" Cursor="Hand" HorizontalAlignment="Left" Margin="0" ToolTip="Click to move west" VerticalAlignment="Center" Width="25">
                                    <Ellipse Fill="{TemplateBinding Background}" Height="24.5" Stroke="{TemplateBinding BorderBrush}" Width="25"/>
                                    <Path Data="M48,71L40,76 48,81z" Fill="White" Height="13" Canvas.Left="7" Margin="7.836,6,9.164,6" Stretch="Fill" Stroke="White" Canvas.Top="5.75" Width="8"/>
                                </Grid>
                                <Grid x:Name="PanRight" Cursor="Hand" HorizontalAlignment="Right" Margin="0" RenderTransformOrigin="0.5,0.5" ToolTip="Click to move east" VerticalAlignment="Center" Width="25">
                                    <Grid.RenderTransform>
                                        <RotateTransform Angle="180"/>
                                    </Grid.RenderTransform>
                                    <Ellipse Fill="{TemplateBinding Background}" Height="24.5" Stroke="{TemplateBinding BorderBrush}" Width="25"/>
                                    <Path Data="M48,71L40,76 48,81z" Fill="White" Height="13" Canvas.Left="7" Margin="7.836,6,9.164,6" Stretch="Fill" Stroke="White" Canvas.Top="5.75" Width="8"/>
                                </Grid>
                                <Grid x:Name="PanUp" Cursor="Hand" HorizontalAlignment="Center" Height="25" Margin="0" RenderTransformOrigin="0.5,0.5" ToolTip="Click to move north" VerticalAlignment="Top">
                                    <Grid.RenderTransform>
                                        <RotateTransform Angle="90"/>
                                    </Grid.RenderTransform>
                                    <Ellipse Fill="{TemplateBinding Background}" Height="24.5" Stroke="{TemplateBinding BorderBrush}" Width="25"/>
                                    <Path Data="M49.643433,70.53167L37.857143,76 49.572575,81.46917z" Fill="White" Height="14.125" Canvas.Left="4.906" Margin="5.672,5.5,8.015,5.375" Stretch="Fill" Stroke="White" Canvas.Top="4.906" Width="11.313"/>
                                    <Path Data="M92,29.833334L92.000114,24.166691 93.247681,24.184656 96.134811,27.716934 96.076241,24.166662 97.444435,24.166662 97.444435,29.833332 96.218758,29.810295 93.332748,26.418152 93.361107,29.808037z" Fill="{TemplateBinding Foreground}" Height="5.322" Canvas.Left="10.746" RenderTransformOrigin="0.506,0.5" Stretch="Fill" Canvas.Top="9.367" Width="4.416">
                                        <Path.RenderTransform>
                                            <RotateTransform Angle="90"/>
                                        </Path.RenderTransform>
                                    </Path>
                                    <Path Data="M91.666664,39" Fill="Black" Height="1" Canvas.Left="10.375" RenderTransformOrigin="0.5,0.5" Stretch="Fill" Stroke="Black" Canvas.Top="9.417" Width="1">
                                        <Path.RenderTransform>
                                            <TransformGroup>
                                                <RotateTransform Angle="90"/>
                                                <TranslateTransform X="3.5064478404741046" Y="0.50863583808085222"/>
                                            </TransformGroup>
                                        </Path.RenderTransform>
                                    </Path>
                                </Grid>
                                <Grid x:Name="PanDown" Cursor="Hand" HorizontalAlignment="Center" Height="25" Margin="0" RenderTransformOrigin="0.5,0.5" ToolTip="Click to move south" VerticalAlignment="Bottom">
                                    <Grid.RenderTransform>
                                        <RotateTransform Angle="270"/>
                                    </Grid.RenderTransform>
                                    <Ellipse Fill="{TemplateBinding Background}" Height="24.5" Stroke="{TemplateBinding BorderBrush}" Width="25"/>
                                    <Path Data="M48,71L40,76 48,81z" Fill="White" Height="13" Canvas.Left="7" Margin="7.172,6,9.828,6" Stretch="Fill" Stroke="White" Canvas.Top="5.75" Width="8"/>
                                </Grid>
                            </Grid>
                            <Button x:Name="ZoomFullExtent" BorderBrush="{TemplateBinding BorderBrush}" Cursor="Hand" Grid.Column="1" HorizontalAlignment="Right" Height="20" ToolTip="Full Extent" VerticalAlignment="Bottom" Width="20">
                                <Grid Height="14" Width="14">
                                    <Ellipse Height="Auto" Stroke="{TemplateBinding Foreground}" Width="Auto"/>
                                    <Ellipse Height="6" Stroke="{TemplateBinding Foreground}" Width="Auto"/>
                                    <Ellipse Height="Auto" Stroke="{TemplateBinding Foreground}" Width="6"/>
                                </Grid>
                            </Button>
                            <Button x:Name="ResetRotation" BorderBrush="{TemplateBinding BorderBrush}" Cursor="Hand" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="3,0,0,0" ToolTip="Reset North" VerticalAlignment="Bottom" Width="20">
                                <Grid HorizontalAlignment="Left" Height="Auto" RenderTransformOrigin="0.5,0.5" Width="Auto">
                                    <Grid.RenderTransform>
                                        <RotateTransform Angle="0"/>
                                    </Grid.RenderTransform>
                                    <Path Data="M49.643433,70.53167L37.857143,76 49.572575,81.46917z" Fill="{TemplateBinding Background}" Height="12" RenderTransformOrigin="0.5,0.5" Stretch="Fill" Width="10">
                                        <Path.RenderTransform>
                                            <RotateTransform Angle="90"/>
                                        </Path.RenderTransform>
                                    </Path>
                                    <Path Data="M92,29.833334L92.000114,24.166691 93.247681,24.184656 96.134811,27.716934 96.076241,24.166662 97.444435,24.166662 97.444435,29.833332 96.218758,29.810295 93.332748,26.418152 93.361107,29.808037z" Fill="{TemplateBinding Foreground}" Height="4" Margin="0,3,0,0" Stretch="Fill" Width="4"/>
                                </Grid>
                            </Button>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid x:Name="LayoutRoot">
        <esri:Map x:Name="mainMap" SnapToLevels="True" SnapsToDevicePixels="True" Background="#FFE3E3E3" PanDuration="00:00:00" ZoomDuration="00:00:00"  IsLogoVisible="False" Width="Auto"  WrapAround="False" ExtentChanged="mainMap_ExtentChanged" MouseClick="mainMap_MouseClick" MouseMove="mainMap_MouseMove" TouchDown="mainMap_TouchDown"></esri:Map>
        <esri:Navigation x:Name="mainNavigation" Margin="0,100,0,0" Map="{Binding ElementName=mainMap}" Visibility="Visible" VerticalAlignment="Bottom"></esri:Navigation>
        <esri:InfoWindow x:Name="mainInfoWindow" Map="{Binding ElementName=mainMap}" Width="400" Placement="TopRight" CornerRadius="20" Padding="5" Style="{DynamicResource mainInfoWindowStyle}"></esri:InfoWindow>
        <TextBlock x:Name="tbPosition" Text="" Background="Transparent" FontSize="16" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0" Width="200" Height="30"></TextBlock>
        <!--右上角工具栏-->
        <Border Width="Auto" Height="50" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0" CornerRadius="0,0,0,0">
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="1"/>
                    <GradientStop Color="#FF68A8BD"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid Cursor="Hand">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Tag="Origin"  Content="原点" Click="btnMain_Click" Grid.Column="5" Style="{StaticResource btnBackToOrigin}" ToolTip="回到原点"></Button>
                <Button Tag="CaseOff" Content="警情" Click="btnMain_Click" Grid.Column="3" Style="{StaticResource btnCase}" ToolTip="警情"></Button>
                <Button Tag="LayersOff"  Content="图层" Click="btnMain_Click" Grid.Column="2" Style="{StaticResource btnLayers}" ToolTip="图层"></Button>
                <Button Tag="PoliceCarOff"  Content="警车" Click="btnMain_Click" Grid.Column="4" Style="{StaticResource btnPoliceCar}" ToolTip="警车"></Button>
                <Button Tag="NotConnected"  Content="连接" Click="btnMain_Click" Grid.Column="6" Style="{StaticResource btnNotConnected}" ToolTip="连接大屏"></Button>
                <Button Tag="OpenedVideosOff" Content="已打开视频列表" Click="btnMain_Click" Grid.Column="1" Style="{StaticResource btnOpenedVideos}" ToolTip="已打开视频列表"></Button>
                <Button Tag="TrafficOff" Content="交通" Click="btnMain_Click" Grid.Column="0" Style="{StaticResource btnTraffic}" ToolTip="交通"></Button>
            </Grid>
        </Border>
        <Button x:Name="btnSwitch" Width="100" Height="100" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,60,10,0" Click="btnSwitch_Click" Style="{StaticResource btnVector}" Cursor="Hand" Tag="Vector"></Button>

        <!--buffer画图工具栏，地图图层查找工具栏-->
        <Border x:Name="borMapTools" Width="325" Height="50" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-300,0,0,0" CornerRadius="0,10,10,0">
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="1"/>
                    <GradientStop Color="#FF68A8BD"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid Cursor="Hand">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="25"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0" Tag="DrawCircle" ToolTipService.ToolTip="Add a circle" Style="{StaticResource btnCircle}" Click="Tools_Click"></Button>
                <Button Grid.Column="1" Tag="DrawEllipse" ToolTipService.ToolTip="Add a Ellipse" Style="{StaticResource btnEllipse}" Click="Tools_Click"></Button>
                <Button Grid.Column="2" Tag="DrawFreehandLine" ToolTipService.ToolTip="Add a FreehandLine" Style="{StaticResource btnFreehandLine}" Click="Tools_Click"></Button>
                <Button Grid.Column="3" Tag="DrawPolyline" ToolTipService.ToolTip="Add a Polyline" Style="{StaticResource btnPolyline}" Click="Tools_Click"></Button>
                <Button Grid.Column="4" Tag="DrawPolygon" ToolTipService.ToolTip="Add a Polygon" Style="{StaticResource btnPolygon}" Click="Tools_Click"></Button>                
                <Button Grid.Column="5" Tag="DrawClear" ToolTipService.ToolTip="Clear Layer" Style="{StaticResource btnClear}" Click="Tools_Click"></Button>
                <Button Grid.Column="6" Tag="OpenTools" ToolTipService.ToolTip="工具条开关" Click="UserTools_Click" Style="{StaticResource btnLeft}"></Button>
            </Grid>
        </Border>

        <!--用户地图工具栏，地图图层查找工具栏-->
        <Border x:Name="borMapUserTools" Width="325" Height="50" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-300,60,0,0" CornerRadius="0,10,10,0">
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="1"/>
                    <GradientStop Color="#FF68A8BD"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid Cursor="Hand">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="50"></ColumnDefinition>
                    <ColumnDefinition Width="25"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0" Tag="DrawLength" ToolTipService.ToolTip="Length" Style="{StaticResource btnLength}" Click="DrawLenOrArea_Click"></Button>
                <Button Grid.Column="1" Tag="DrawArea" ToolTipService.ToolTip="Area" Style="{StaticResource btnArea}" Click="DrawLenOrArea_Click"></Button>
                <Button Grid.Column="2" Tag="DrawZoomUp" ToolTipService.ToolTip="ZoomUp" Style="{StaticResource btnZoomUp}" Click="UserTools_Click"></Button>
                <Button Grid.Column="3" Tag="DrawZoomDown" ToolTipService.ToolTip="ZoomDown" Style="{StaticResource btnZoomDown}" Click="UserTools_Click"></Button>
                <Button Grid.Column="4" Tag="DrawCut" ToolTipService.ToolTip="Cut" Style="{StaticResource btnCut}" Click="UserTools_Click"></Button>
                <Button Grid.Column="5" Tag="DrawClear" ToolTipService.ToolTip="Clear" Style="{StaticResource btnClear}" Click="UserTools_Click"></Button>
                <Button Grid.Column="6" Tag="OpenUserTools" ToolTipService.ToolTip="工具条开关" Style="{StaticResource btnLeft}" Click="UserTools_Click" ></Button>
            </Grid>
        </Border>
        <Canvas x:Name="canvasParent">
            <Canvas x:Name="canvasChild1" Height="0" Width="410" Margin="0,60,0,0" Canvas.Left="0" Canvas.Top="0" Background="Transparent" ClipToBounds="True" MouseMove="canvasChild1_MouseMove" MouseLeftButtonDown="canvasChild1_MouseLeftButtonDown" MouseLeftButtonUp="canvasChild1_MouseLeftButtonUp"></Canvas>
        </Canvas>
    </Grid>
</Window>
